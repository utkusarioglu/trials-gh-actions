name: Push
run-name: run-push
  
on:
  push:

jobs:
  db-trial:
    runs-on: ubuntu-latest
    # container:
    #   image: node:latest
    services:
      nginx-service:
        image: nginx:latest
        options: --name nginx
        ports:
          - 80:80
        volumes:
          - ./public/:/usr/share/nginx/html/
    steps:
      - uses: actions/checkout@v4
      - run: docker exec nginx sh -c 'nginx -s reload'
      - run: docker exec nginx sh -c 'ls -al /usr/share/nginx/html'
      - uses: docker://node
        with:
          args: node scripts/request.js
